<!DOCTYPE html>
<html>

<head>
    <!--  <link rel='stylesheet' href='/stylesheets/style.css' /> -->
    <title>Voter - 登录</title>
    <link rel='stylesheet' href='/stylesheets/bootstrap.min.css' />

    <link rel='stylesheet' href='/stylesheets/bootstrap.css' />
    <link rel='stylesheet' href='/stylesheets/buttons.css' />
    <link rel='stylesheet' href='/stylesheets/icheck.css' />

    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link rel="stylesheet" href="/stylesheets/signin.css" />

</head>

<body>
    <div class="container-fluid" id="container">
      <% if (locals.success) { %>
        <div id="alt_sucess" class="alert alert-success">
          <%- success %>
        </div>
     <% } %>

    <% if (locals.error) { %>
      <div id="alt_warning" class="alert alert-warning">
        <%= error %>
      </div>
    <% } %>

    <form class="form-signin form-horizontal" role="form" method="post">
      <h2 class="form-signin-heading">登录</h2>


      <div class="form-group">
         <input id="txtUserName" name="txtUserName" type="text" class="form-control" placeholder="用户名" required autofocus />
     </div>

     <div class="form-group">
        <input id="txtUserPwd" name="txtUserPwd" type="password" class="form-control" placeholder="密码" required/>
     </div>


     <div class="form-group">
         <div class="checkbox">
           <label>
             <input name="chbRem" id="chbRem" type="checkbox" value="remember-me"> 记住密码
           </label>
         </div>
     </div>

  <div class="form-group">
      <button id="btnSub" class="button button-3d button-royal button-pill" type="submit">登  录</button>
      <a class="btn btn-link" href="/register" role="button">注  册</a>
</div>
    </form>
    </div>

    <script src="/javascripts/jquery.min.js"></script>
    <script src="/javascripts/bootstrap.min.js"></script>

  <script type="text/javascript">
       String.prototype.format = function (args) {
              var result = this;
              if (arguments.length > 0) {
                  if (arguments.length == 1 && typeof (args) == "object") {
                      for (var key in args) {
                          if (args[key] != undefined) {
                              var reg = new RegExp("({" + key + "})", "g");
                              result = result.replace(reg, args[key]);
                          }
                      }
                  }
                  else {
                      for (var i = 0; i < arguments.length; i++) {
                          if (arguments[i] != undefined) {
                              var reg = new RegExp("({)" + i + "(})", "g");
                              result = result.replace(reg, arguments[i]);
                          }
                      }
                  }
              }
              return result;
      }

      $(function(){
          $('#btnSub').on('click',function(){
              var
              $txtUserName = $('#txtUserName'),
              txtUserNameVal = $.trim($txtUserName.val()),
              $txtUserPwd = $('#txtUserPwd'),
              txtUserPwdVal = $.trim($txtUserPwd.val()),
              errorTip = '<div id="errorTip" class="alert alert-warning">{0}</div> ';

              $("#errorTip,#alt_warning").remove();

              if(txtUserNameVal.length == 0)
              {
                  $("#container").prepend(errorTip.format('用户名不能为空'));
                  $txtUserName.focus();
                  return false;
              }

              if(txtUserPwdVal.length == 0)
              {
                  $("#container").prepend(errorTip.format('密码不能为空'));
                  $txtUserPwd.focus();
                  return false;
              }

              return true;
          })
      });

  </script>
</body>

</html>
